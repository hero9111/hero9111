# OceanoCal NetCDF Viewer

OceanoCal NetCDF Viewer는 과학 및 공학 분야에서 널리 사용되는 NetCDF(.nc) 및 HDF(.h5) 형식의 다차원 데이터를 시각화하고 탐색하기 위한 Python 기반 데스크톱 애플리케이션입니다. Panoply와 같은 기존 도구들의 장점을 벤치마킹하여 사용자 친화적인 인터페이스와 강력한 시각화 기능을 제공하는 것을 목표로 합니다.

## 주요 기능

* **파일 탐색 및 정보 표시:**
    * NetCDF(.nc) 및 HDF(.h5) 파일 열기 (다중 파일 동시 열기 지원).
    * 계층적 트리 뷰를 통한 데이터셋, 그룹, 변수 및 속성 탐색.
    * 파일 메타데이터, 전역 속성, 변수의 상세 정보(차원, 형태, 데이터 타입, 속성, 샘플 데이터 등) 표시.
* **다양한 플롯 유형:**
    * **2D 플롯:**
        * **히트맵(Heatmap):** 2차원 배열 데이터 시각화.
        * **라인 플롯(Line Plot):** 1차원 배열 데이터 (시계열 등) 시각화.
        * **지도 플롯(Map Plot):** 위도/경도 좌표를 가진 변수를 위한 기본적인 지리 공간 플롯 (Scattergeo 활용).
            * 해안선, 국경, 육지/바다 등 배경 지도 요소 표시 (Plotly 기본 기능).
            * 그리드 표시 옵션.
    * 다중 플롯을 위한 탭 인터페이스 지원.
* **플롯 사용자 정의:**
    * 플롯 제목, 축 라벨, 컬러바 라벨 텍스트 및 폰트/크기 수정.
    * 다양한 컬러맵 선택 가능.
    * 플롯 옵션 수정 후 실시간 반영 (일부).
* **사용자 편의 기능:**
    * 파일 경로 북마크 관리 (추가, 제거, 목록에서 열기).
    * 최근 열었던 파일 목록 제공.
    * 기본 애플리케이션 설정 (테마: Light/Dark, 기본 열기 경로, 지도 옵션 등) 저장 및 복원.
    * 상태 표시줄을 통한 작업 진행 상황 및 오류 메시지 표시.
* **기술 스택:**
    * Python 3
    * GUI: PyQt6
    * 플로팅: Plotly
    * 데이터 처리: xarray, netCDF4, h5py, NumPy, Pandas

## 설치 및 실행

1.  **사전 요구사항:**
    * Python 3.8 이상 권장

2.  **소스 코드 가져오기 (예시):**
    ```bash
    git clone https://your-repository-url/OceanoCalNetCDFViewer.git
    cd OceanoCalNetCDFViewer
    ```

3.  **필수 라이브러리 설치:**
    프로젝트 루트 디렉토리에서 다음 명령을 실행하여 필요한 라이브러리를 설치합니다.
    ```bash
    pip install -r requirements.txt
    ```

4.  **애플리케이션 실행:**
    `oceanocal_v2` 패키지가 포함된 디렉토리의 상위 디렉토리에서 다음 명령을 실행합니다.
    (예: `OceanoCalNetCDFViewer`가 프로젝트 루트라면, 해당 루트에서 실행)
    ```bash
    python -m oceanocal_v2
    ```
    또는 `OceanoCalNetCDFViewer` 디렉토리 내에서:
    ```bash
    python oceanocal_v2 # (만약 __main__.py가 최상위에 있다면)
    ```
    (제공된 구조에 따라 `python -m oceanocal_v2`가 더 적합합니다.)


## 디렉토리 구조 (주요 부분)

OceanoCalNetCDFViewer/
├── oceanocal_v2/              # 메인 애플리케이션 패키지
│   ├── init.py
│   ├── main.py            # 애플리케이션 진입점
│   ├── main_window.py         # 메인 윈도우 UI 및 로직
│   ├── panels.py              # 파일/변수 트리 및 정보 패널
│   ├── plot_manager.py        # Plotly 플롯 생성 및 관리
│   ├── plot_label_dialog.py   # 플롯 옵션 설정 대화상자
│   ├── dataset_manager.py     # NetCDF/HDF 파일 데이터 처리
│   ├── bookmarks.py           # 북마크 관리
│   ├── settings_manager.py    # 애플리케이션 설정 관리
│   ├── handlers/              # 이벤트 및 특정 로직 처리
│   │   ├── init.py
│   │   ├── plot_handler.py    # 플롯 요청 및 옵션 처리
│   │   └── file_handler.py    # (향후) 파일 관련 고급 처리
│   └── icons/                 # UI 아이콘 파일
├── readme.md                  # 이 파일
└── requirements.txt           # Python 라이브러리 요구사항

## 사용 방법 (기본 흐름)

1.  애플리케이션을 실행합니다.
2.  `파일` 메뉴 또는 툴바의 `파일 열기` 아이콘을 클릭하여 NetCDF(.nc) 또는 HDF(.h5) 파일을 선택합니다.
    * `폴더 열기`를 통해 특정 폴더 내의 모든 지원 파일을 트리에 추가할 수도 있습니다.
3.  왼쪽 패널의 트리 뷰에 파일과 그 안의 변수들이 표시됩니다.
4.  파일 또는 변수를 클릭하면 오른쪽 정보 패널에 해당 메타데이터 및 속성 정보가 나타납니다.
5.  트리 뷰에서 시각화할 변수를 더블 클릭합니다.
6.  플롯 옵션 대화상자가 나타나면 원하는 설정을 조정한 후 `확인`을 누릅니다.
    * 데이터 특성에 따라 히트맵, 라인 플롯 또는 지도 플롯이 자동으로 제안될 수 있습니다.
7.  메인 영역의 탭에 선택한 변수에 대한 플롯이 생성됩니다.
8.  `플롯` 메뉴 또는 툴바의 `플롯 옵션 수정` 아이콘을 통해 현재 활성화된 플롯의 옵션을 변경할 수 있습니다.
9.  `북마크` 메뉴를 통해 자주 사용하는 파일을 북마크에 추가하거나 열 수 있습니다.
10. `파일` > `환경 설정`에서 애플리케이션 테마 및 기타 기본 설정을 변경할 수 있습니다.

## 개발 계획 (요약)

이 프로젝트는 단계별 개발 계획에 따라 진행됩니다.

1.  **1단계:** 기본 신뢰성/유지보수 강화 및 구조화 (완료된 리팩토링 기반)
2.  **2단계:** 필수 기능 고도화 및 UI/UX 개선 (진행 중 - 정보 패널, 플롯 옵션, 메뉴 등)
3.  **3단계:** Panoply 대비 핵심 차별화/고급 기능 확장 (지도 기능 기초 구현, 향후 3D/애니메이션, 분석 기능 추가 예정)
4.  **4단계:** 안정성/사용성/확장성 (지속적인 로깅, 에러 핸들링, 도움말 기능 추가 예정)

## 기여 (Contribution)

(향후 기여 방법에 대한 안내 추가 예정)

## 라이선스 (License)

(향후 라이선스 정보 추가 예정 - 예: MIT License)